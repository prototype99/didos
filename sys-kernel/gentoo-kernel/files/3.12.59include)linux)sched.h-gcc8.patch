From 9bc97f9630b96a1c8c69d5de702e92fde0628c1f Mon Sep 17 00:00:00 2001
From: seirra <sophietheopossum@yandex.com>
Date: Wed, 7 Oct 2020 20:29:55 +0100
Subject: [PATCH] remove gcc8 warning

---
 include/linux/sched.h | 6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

diff --git a/include/linux/sched.h b/include/linux/sched.h
index 2bc93e252fef..b85bf394825a 100644
--- a/include/linux/sched.h
+++ b/include/linux/sched.h
@@ -2162,7 +2162,11 @@ struct task_struct *fork_idle(int);
 extern pid_t kernel_thread(int (*fn)(void *), void *arg, unsigned long flags);
 
 extern void set_task_comm(struct task_struct *tsk, char *from);
-extern char *get_task_comm(char *to, struct task_struct *tsk);
+extern char *__get_task_comm(char *to, size_t len, struct task_struct *tsk);
+#define get_task_comm(buf, tsk) ({			\
+	BUILD_BUG_ON(sizeof(buf) != TASK_COMM_LEN);	\
+	__get_task_comm(buf, sizeof(buf), tsk);		\
+})
 
 #ifdef CONFIG_SMP
 void scheduler_ipi(void);
-- 
2.26.2

